<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>ibln</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="	Linux-GPIB 4.3.0
 Documentation"
HREF="t1.html"><LINK
REL="UP"
TITLE="	'Traditional' API Functions"
HREF="reference.html#AEN899"><LINK
REL="PREVIOUS"
TITLE="iblines"
HREF="reference-function-iblines.html"><LINK
REL="NEXT"
TITLE="ibloc"
HREF="reference-function-ibloc.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux-GPIB 4.3.0
 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="reference-function-iblines.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="reference-function-ibloc.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="REFERENCE-FUNCTION-IBLN"
></A
>ibln</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN1812"
></A
><H2
>Name</H2
>ibln&nbsp;--&nbsp;check if listener is present (board or device)</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN1815"
></A
><H2
>Synopsis</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN1816"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="FUNCSYNOPSISINFO"
>#include &#60;gpib/ib.h&#62;</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>int <TT
CLASS="FUNCTION"
>ibln</TT
></CODE
>(int <TT
CLASS="PARAMETER"
><I
>ud</I
></TT
>, int <TT
CLASS="PARAMETER"
><I
>pad</I
></TT
>, int <TT
CLASS="PARAMETER"
><I
>sad</I
></TT
>, short *<TT
CLASS="PARAMETER"
><I
>found_listener</I
></TT
>);</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1829"
></A
><H2
>	Description
	</H2
><P
>	ibln() checks for the presence of a device, by attempting to address
	it as a listener.  <TT
CLASS="PARAMETER"
><I
>ud</I
></TT
> specifies the GPIB
	interface board which should check for listeners.  If <TT
CLASS="PARAMETER"
><I
>ud</I
></TT
>
	is a device descriptor, then the device's access board is used.
	</P
><P
>	The GPIB address to check is specified by the
	<TT
CLASS="PARAMETER"
><I
>pad</I
></TT
> and <TT
CLASS="PARAMETER"
><I
>sad</I
></TT
> arguments.
	<TT
CLASS="PARAMETER"
><I
>pad</I
></TT
> specifies the primary address, 0 through 30
	are valid values.  <TT
CLASS="PARAMETER"
><I
>sad</I
></TT
> gives the secondary
	address, and may be a value from 0x60 through 0x7e (96 through 126), or
	one of the constants NO_SAD or ALL_SAD.  NO_SAD indicates that no
	secondary addressing is to be used, and ALL_SAD indicates that
	all secondary addresses should be checked.
	</P
><P
>	If the board finds a listener at the specified GPIB address(es), then the
	variable specified by the pointer <TT
CLASS="PARAMETER"
><I
>found_listener</I
></TT
>
	is set to a nonzero value.  If no listener is found, the variable is set
	to zero.
	</P
><P
>	The board must be controller-in-charge to perform this function.  Also,
	it must have the capability to monitor the NDAC
	<A
HREF="gpib-protocol.html#GPIB-PROTOCOL-BUS-LINES"
>bus line</A
>
	(see <A
HREF="reference-function-iblines.html"
>iblines()</A
>).
	</P
><P
>	This function has the additional effect of addressing the board as talker
	for the duration of the Find Listeners protocol,
	which is beyond what IEEE 488.2 specifies.
	This is done because some boards cannot reliably read the state of
	the NDAC bus line unless they are the talker.  Being the talker 
	causes the board's gpib transceiver to configure NDAC as an input,
	so its state can be reliably read from the bus through the transceiver.
	</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1845"
></A
><H2
>	Return value
	</H2
><P
>	The value of <A
HREF="reference-globals-ibsta.html"
>ibsta</A
> is returned.
	</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="reference-function-iblines.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="t1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="reference-function-ibloc.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>iblines</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="reference.html#AEN899"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ibloc</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>